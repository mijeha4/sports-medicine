/* ===========================================
   MODERN GLASSMORPHISM THEME - DARK THEME
   =========================================== */

/* ===== DARK THEME OVERRIDES ===== */
/* Applied when .theme-light class is NOT present on <body> */

.my-app:not(.theme-light) {
  /* ===== DARK THEME COLOR PALETTE ===== */

  /* Primary Navy - Darker for dark theme */
  --color-primary: #1e293b;
  --color-primary-dark: #0f172a;
  --color-primary-light: #334155;
  --color-primary-lighter: #475569;

  /* Accent Cyan - Brighter for dark theme */
  --color-accent: #22d3ee;
  --color-accent-dark: #06b6d4;
  --color-accent-light: #67e8f9;
  --color-accent-lighter: #a5f3fc;

  /* Secondary Purple - Brighter for dark theme */
  --color-secondary: #c4b5fd;
  --color-secondary-dark: #a78bfa;
  --color-secondary-light: #ddd6fe;
  --color-secondary-lighter: #e9d5ff;

  /* Neutral Colors - Dark theme surfaces */
  --color-surface: rgba(30, 41, 59, 0.95);
  --color-surface-hover: rgba(30, 41, 59, 0.98);
  --color-surface-active: rgba(30, 41, 59, 0.9);
  --color-overlay: rgba(255, 255, 255, 0.1);
  --color-overlay-hover: rgba(255, 255, 255, 0.15);
  --color-overlay-active: rgba(255, 255, 255, 0.2);

  /* Text Colors - Light text for dark backgrounds */
  --color-text-primary: #f1f5f9;
  --color-text-secondary: #cbd5e1;
  --color-text-tertiary: #94a3b8;
  --color-text-disabled: #64748b;
  --color-text-inverse: #0f172a;

  /* Status Colors - Slightly adjusted for dark theme */
  --color-success: #4ade80;
  --color-success-light: #86efac;
  --color-warning: #fbbf24;
  --color-warning-light: #fcd34d;
  --color-error: #f87171;
  --color-error-light: #fca5a5;
  --color-info: #60a5fa;
  --color-info-light: #93c5fd;

  /* ===== DARK THEME SHADOWS ===== */

  /* Glassmorphism Shadows - Adjusted for dark theme */
  --shadow-glass-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3),
                     0 1px 3px 0 rgba(0, 0, 0, 0.4),
                     0 0 0 1px rgba(255, 255, 255, 0.05);
  --shadow-glass-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
                     0 2px 4px -1px rgba(0, 0, 0, 0.4),
                     0 0 0 1px rgba(255, 255, 255, 0.05);
  --shadow-glass-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3),
                     0 4px 6px -2px rgba(0, 0, 0, 0.4),
                     0 0 0 1px rgba(255, 255, 255, 0.05);
  --shadow-glass-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3),
                     0 10px 10px -5px rgba(0, 0, 0, 0.4),
                     0 0 0 1px rgba(255, 255, 255, 0.05);

  /* Neomorphism Shadows - Dark theme variant */
  --shadow-neo-inset: inset 2px 2px 4px rgba(0, 0, 0, 0.3),
                      inset -2px -2px 4px rgba(255, 255, 255, 0.05);
  --shadow-neo-outset: 3px 3px 6px rgba(0, 0, 0, 0.3),
                       -3px -3px 6px rgba(255, 255, 255, 0.05);

  /* Hover/Active States - Dark theme */
  --shadow-hover: 0 8px 25px -5px rgba(34, 211, 238, 0.3),
                  0 0 0 1px rgba(34, 211, 238, 0.2);
  --shadow-active: 0 4px 12px -2px rgba(34, 211, 238, 0.4),
                   0 0 0 1px rgba(34, 211, 238, 0.3);
}

/* ===== LIGHT THEME OVERRIDES ===== */
/* Applied when .theme-light class IS present on <body> */

.my-app.theme-light {
  /* Light theme is the default, so these are just explicit declarations */
  /* All variables defined in variables.css are already light theme defaults */

  /* Ensure proper contrast for light theme */
  --color-text-primary: #0f172a;
  --color-text-secondary: #475569;
  --color-text-tertiary: #64748b;
  --color-text-disabled: #94a3b8;
  --color-text-inverse: #f8fafc;

  /* Light theme shadows */
  --shadow-glass-sm: 0 1px 2px 0 rgba(15, 23, 42, 0.05),
                     0 1px 3px 0 rgba(15, 23, 42, 0.1),
                     0 0 0 1px rgba(255, 255, 255, 0.05);
  --shadow-glass-md: 0 4px 6px -1px rgba(15, 23, 42, 0.05),
                     0 2px 4px -1px rgba(15, 23, 42, 0.06),
                     0 0 0 1px rgba(255, 255, 255, 0.05);
  --shadow-glass-lg: 0 10px 15px -3px rgba(15, 23, 42, 0.05),
                     0 4px 6px -2px rgba(15, 23, 42, 0.05),
                     0 0 0 1px rgba(255, 255, 255, 0.05);
  --shadow-glass-xl: 0 20px 25px -5px rgba(15, 23, 42, 0.05),
                     0 10px 10px -5px rgba(15, 23, 42, 0.04),
                     0 0 0 1px rgba(255, 255, 255, 0.05);

  --shadow-neo-inset: inset 2px 2px 4px rgba(15, 23, 42, 0.1),
                      inset -2px -2px 4px rgba(255, 255, 255, 0.8);
  --shadow-neo-outset: 3px 3px 6px rgba(15, 23, 42, 0.1),
                       -3px -3px 6px rgba(255, 255, 255, 0.8);

  --shadow-hover: 0 8px 25px -5px rgba(6, 182, 212, 0.2),
                  0 0 0 1px rgba(6, 182, 212, 0.1);
  --shadow-active: 0 4px 12px -2px rgba(6, 182, 212, 0.3),
                   0 0 0 1px rgba(6, 182, 212, 0.2);
}

/* ===== THEME TRANSITION ANIMATIONS ===== */

.my-app {
  /* Smooth theme transitions */
  transition: background-color var(--transition-normal),
              color var(--transition-normal),
              border-color var(--transition-normal);
}

.my-app * {
  transition: background-color var(--transition-normal),
              color var(--transition-normal),
              border-color var(--transition-normal),
              box-shadow var(--transition-normal);
}

/* ===== THEME TOGGLE UTILITIES ===== */

.my-app .theme-toggle {
  background: var(--color-surface);
  border: 1px solid rgba(15, 23, 42, 0.1);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-glass-sm);
  backdrop-filter: var(--blur-sm);
  -webkit-backdrop-filter: var(--blur-sm);
  padding: var(--space-sm);
  cursor: pointer;
  transition: all var(--transition-normal);
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  color: var(--color-text-primary);
}

.my-app .theme-toggle:hover {
  background: var(--color-surface-hover);
  border-color: rgba(6, 182, 212, 0.2);
  box-shadow: var(--shadow-glass-md);
}

.my-app .theme-toggle-icon {
  font-size: var(--font-size-lg);
  transition: transform var(--transition-normal);
}

.my-app .theme-toggle-text {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

/* ===== DARK THEME SPECIFIC ADJUSTMENTS ===== */

.my-app:not(.theme-light) {
  /* Dialog backdrop for dark theme */
  vaadin-dialog-overlay {
    background: rgba(15, 23, 42, 0.8);
    backdrop-filter: var(--blur-xl);
    -webkit-backdrop-filter: var(--blur-xl);
  }

  /* Grid adjustments for dark theme */
  vaadin-grid {
    background: var(--color-surface);
    border-color: rgba(255, 255, 255, 0.1);
  }

  vaadin-grid::part(header-cell) {
    background: rgba(255, 255, 255, 0.02);
    border-bottom-color: rgba(255, 255, 255, 0.1);
  }

  vaadin-grid::part(body-cell) {
    border-bottom-color: rgba(255, 255, 255, 0.05);
  }

  vaadin-grid::part(row):hover {
    background: rgba(34, 211, 238, 0.05);
  }

  vaadin-grid::part(row)[selected] {
    background: rgba(34, 211, 238, 0.1);
  }

  /* Custom scrollbar for dark theme */
  ::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.4);
  }

  ::-webkit-scrollbar-corner {
    background: rgba(255, 255, 255, 0.05);
  }
}

/* ===== THEME PREFERENCE DETECTION ===== */

@media (prefers-color-scheme: dark) {
  .my-app:not(.theme-light) {
    /* Automatic dark theme based on system preference */
    /* Variables are already defined above for dark theme */
  }
}

@media (prefers-color-scheme: light) {
  .my-app.theme-light {
    /* Automatic light theme based on system preference */
    /* Variables are already defined above for light theme */
  }
}

/* ===== HIGH CONTRAST MODE SUPPORT ===== */

@media (prefers-contrast: high) {
  .my-app {
    --color-surface: rgba(255, 255, 255, 0.98);
    --color-text-primary: #000000;
    --color-text-secondary: #333333;
    --shadow-glass-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
    --shadow-glass-md: 0 2px 6px 0 rgba(0, 0, 0, 0.3);
    --shadow-glass-lg: 0 4px 12px 0 rgba(0, 0, 0, 0.3);
    --shadow-glass-xl: 0 8px 24px 0 rgba(0, 0, 0, 0.3);
  }

  .my-app:not(.theme-light) {
    --color-surface: rgba(0, 0, 0, 0.98);
    --color-text-primary: #ffffff;
    --color-text-secondary: #cccccc;
  }
}

/* ===== REDUCED MOTION SUPPORT ===== */

@media (prefers-reduced-motion: reduce) {
  .my-app {
    --transition-fast: 0.01ms;
    --transition-normal: 0.01ms;
    --transition-slow: 0.01ms;
  }

  .my-app * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
